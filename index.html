<html>
  <head>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <h1>iOS 26 iFrame Motion Permissions Bug</h1>

    <p>
      Device Motion permissions are not properly progated to the child iFrame in
      iOS 26. You can reproduce the issue by clicking the the "Request motion"
      button in the iFrame below. You should be prompted to grant permission to
      access motion sensors. Even after accepting permissions, the devicemotion event is never dispatched.
    </p>
    </div>

    <iframe
    id="my-iframe"
    src="https://8w.8thwall.app/iframe-debug"
    allow="camera;gyroscope;accelerometer;magnetometer;xr-spatial-tracking;microphone;"
    >
    </iframe>

    <p>
    The issue can be fixed by requesting motion permission from the outer window,
    rather than requesting from the inner iFrame; however, this is not always an
    option. The iFrame source is https://8w.8thwall.app/iframe-debug. Try the same experience not within an iFrame an confirm motion permissions work as expected when not requested from within an iFrame.
    </p>
  </body>
</html>